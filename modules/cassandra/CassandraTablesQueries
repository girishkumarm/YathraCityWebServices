//To create a keyspace execute the following code in cassandra
CREATE KEYSPACE yathra
WITH REPLICATION = { 'class' : 'SimpleStrategy', 'replication_factor' : 1 };


//user table

CREATE TABLE Users(
user_account_id text,
user_name text,
password text,
phone_number text,
PRIMARY KEY (user_account_id) )
WITH compression = { 'sstable_compression' : 'LZ4Compressor', 'chunk_length_kb' : '64' } 
AND compaction = { 'class' : 'LeveledCompactionStrategy', 'sstable_size_in_mb' : '160' } 
AND speculative_retry = '100ms' 
AND bloom_filter_fp_chance = 0.1 
AND caching = 'keys_only';

//otp table
CREATE TABLE otps(
otp text,
phone_number text,
PRIMARY KEY (phone_number) )
WITH compression = { 'sstable_compression' : 'LZ4Compressor', 'chunk_length_kb' : '64' } 
AND compaction = { 'class' : 'LeveledCompactionStrategy', 'sstable_size_in_mb' : '160' } 
AND speculative_retry = '100ms' 
AND bloom_filter_fp_chance = 0.1 
AND caching = 'keys_only';


//car table
CREATE TABLE cars(
contact_number text,
car_availability boolean,
car_registered boolean,
car_model text,
car_number text,
car_owner text,
car_name text,
car_registered_at text,
car_capacity int,
price_per_kilometer int,
owner_license_number text,
minimun_distance_per_day int,
PRIMARY KEY ((car_registered_at,car_capacity),car_number ))
WITH compression = { 'sstable_compression' : 'LZ4Compressor', 'chunk_length_kb' : '64' } 
AND compaction = { 'class' : 'LeveledCompactionStrategy', 'sstable_size_in_mb' : '160' } 
AND speculative_retry = '100ms' 
AND bloom_filter_fp_chance = 0.1 
AND caching = 'keys_only';

//Create indexes for car_availability 
CREATE INDEX is_car_available_index ON yathra.cars( car_availability);

//Create indexes for car_registered 
CREATE INDEX is_car_registered_index ON yathra.cars( car_registered);
